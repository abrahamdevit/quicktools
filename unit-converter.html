<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Unit Converter - My Utility Tools</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font for a clean look */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Light gray background */
        }
    </style>
</head>
<body class="flex flex-col min-h-screen text-gray-800">
    <!-- Header Section -->
    <header class="bg-gradient-to-r from-blue-600 to-purple-700 text-white p-6 shadow-lg rounded-b-xl">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-3xl font-bold">Universal Unit Converter</h1>
            <nav>
                <ul class="flex space-x-4">
                    <li><a href="index.html" class="hover:text-blue-200 transition duration-300 font-semibold">Home</a></li>
                    <li><a href="word-counter.html" class="hover:text-blue-200 transition duration-300">Word Counter</a></li>
                    <!-- Add more navigation links here for future tool pages -->
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="container mx-auto p-4 flex-grow grid grid-cols-1 md:grid-cols-3 gap-6 my-8">

        <!-- Main Converter Card -->
        <div class="md:col-span-2 bg-white p-8 rounded-2xl shadow-xl border border-gray-200 flex flex-col items-center">
            <h2 class="text-2xl font-semibold mb-6 text-center">Convert Units Easily</h2>

            <!-- Unit Type Selector -->
            <div class="mb-6 w-full max-w-sm">
                <label for="unitType" class="block text-sm font-medium text-gray-700 mb-2">Select Conversion Type:</label>
                <select id="unitType" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md shadow-sm">
                    <option value="length">Length</option>
                    <option value="weight">Weight</option>
                    <option value="temperature">Temperature</option>
                </select>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 w-full max-w-2xl">
                <!-- Input Section -->
                <div class="flex flex-col items-center p-4 bg-blue-50 rounded-lg shadow-sm border border-blue-200">
                    <label for="inputValue" class="block text-sm font-medium text-blue-700 mb-2">Input Value:</label>
                    <input type="number" id="inputValue" value="1" class="w-full p-3 border border-blue-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-center text-lg font-medium" placeholder="Enter value">
                    <select id="inputUnit" class="mt-3 block w-full pl-3 pr-10 py-2 text-base border-blue-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md shadow-sm">
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>

                <!-- Output Section -->
                <div class="flex flex-col items-center p-4 bg-green-50 rounded-lg shadow-sm border border-green-200">
                    <label for="outputValue" class="block text-sm font-medium text-green-700 mb-2">Converted Value:</label>
                    <input type="text" id="outputValue" readonly class="w-full p-3 border border-green-300 rounded-md shadow-sm bg-gray-100 text-center text-lg font-bold" placeholder="Result">
                    <select id="outputUnit" class="mt-3 block w-full pl-3 pr-10 py-2 text-base border-green-300 focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm rounded-md shadow-sm">
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
            </div>

            <!-- Conversion Button (optional, can also convert on input change) -->
            <button id="convertBtn" class="mt-8 px-8 py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50 transition transform hover:scale-105">
                Convert
            </button>
        </div>

        <!-- Ad Area Section (Placeholder) -->
        <aside class="md:col-span-1 bg-white p-6 rounded-2xl shadow-xl border border-gray-200 flex flex-col justify-center items-center text-center">
            <h3 class="text-xl font-semibold mb-4 text-gray-700">Advertisement</h3>
            <div class="w-full h-48 bg-gray-200 flex items-center justify-center rounded-lg border-dashed border-2 border-gray-400 text-gray-500">
                <p>Your Ad Here!</p>
            </div>
            <p class="mt-4 text-sm text-gray-600">Integrate your ad network code here to monetize your website.</p>
        </aside>

    </main>

    <!-- Footer Section -->
    <footer class="bg-gray-800 text-white p-6 mt-8 rounded-t-xl shadow-lg">
        <div class="container mx-auto text-center">
            <p>&copy; 2025 My Utility Tools. All rights reserved.</p>
            <p class="text-sm mt-2">Designed for convenience.</p>
        </div>
    </footer>

    <script>
        // Define conversion rates and units
        const units = {
            length: {
                meter: 1, // Base unit
                kilometer: 1000,
                centimeter: 0.01,
                millimeter: 0.001,
                mile: 1609.34,
                yard: 0.9144,
                foot: 0.3048,
                inch: 0.0254
            },
            weight: {
                kilogram: 1, // Base unit
                gram: 0.001,
                milligram: 0.000001,
                pound: 0.453592,
                ounce: 0.0283495,
                tonne: 1000
            },
            temperature: {
                celsius: {
                    toKelvin: (c) => c + 273.15,
                    fromKelvin: (k) => k - 273.15
                },
                fahrenheit: {
                    toKelvin: (f) => (f - 32) * 5/9 + 273.15,
                    fromKelvin: (k) => (k - 273.15) * 9/5 + 32
                },
                kelvin: {
                    toKelvin: (k) => k,
                    fromKelvin: (k) => k
                }
            }
        };

        // Get DOM elements
        const unitTypeSelect = document.getElementById('unitType');
        const inputValue = document.getElementById('inputValue');
        const inputUnitSelect = document.getElementById('inputUnit');
        const outputValue = document.getElementById('outputValue');
        const outputUnitSelect = document.getElementById('outputUnit');
        const convertBtn = document.getElementById('convertBtn');

        /**
         * Populates the unit dropdowns based on the selected unit type.
         */
        function populateUnitDropdowns() {
            const selectedType = unitTypeSelect.value;
            const currentUnits = units[selectedType];

            // Clear existing options
            inputUnitSelect.innerHTML = '';
            outputUnitSelect.innerHTML = '';

            // Add new options
            for (const unit in currentUnits) {
                const option1 = document.createElement('option');
                option1.value = unit;
                option1.textContent = unit.charAt(0).toUpperCase() + unit.slice(1); // Capitalize first letter
                inputUnitSelect.appendChild(option1);

                const option2 = document.createElement('option');
                option2.value = unit;
                option2.textContent = unit.charAt(0).toUpperCase() + unit.slice(1);
                outputUnitSelect.appendChild(option2);
            }

            // Set default selections (e.g., first unit in list)
            if (inputUnitSelect.options.length > 0) {
                inputUnitSelect.selectedIndex = 0;
                // For temperature, ensure output is different for initial view
                if (selectedType === 'temperature' && outputUnitSelect.options.length > 1) {
                    outputUnitSelect.selectedIndex = 1;
                } else {
                    outputUnitSelect.selectedIndex = inputUnitSelect.options.length > 1 ? 1 : 0;
                }
            }
            convertUnits(); // Perform an initial conversion
        }

        /**
         * Performs the unit conversion based on the selected type and values.
         */
        function convertUnits() {
            const type = unitTypeSelect.value;
            const value = parseFloat(inputValue.value);
            const fromUnit = inputUnitSelect.value;
            const toUnit = outputUnitSelect.value;

            // Basic validation
            if (isNaN(value)) {
                outputValue.value = 'Invalid Input';
                return;
            }

            let result;

            if (type === 'temperature') {
                // Temperature conversion requires different logic
                const toKelvinFunc = units[type][fromUnit].toKelvin;
                const fromKelvinFunc = units[type][toUnit].fromKelvin;

                // Convert input to Kelvin first, then from Kelvin to target unit
                const kelvinValue = toKelvinFunc(value);
                result = fromKelvinFunc(kelvinValue);

            } else {
                // Length and Weight conversion
                const fromBaseRate = units[type][fromUnit];
                const toBaseRate = units[type][toUnit];

                if (fromBaseRate && toBaseRate) {
                    // Convert input value to the base unit (e.g., meter, kilogram)
                    const valueInBaseUnit = value * fromBaseRate;
                    // Convert from base unit to the target unit
                    result = valueInBaseUnit / toBaseRate;
                } else {
                    outputValue.value = 'Error: Unit not found';
                    return;
                }
            }

            // Display the result, rounded to a few decimal places for readability
            outputValue.value = result.toFixed(6);
        }

        // Event Listeners
        unitTypeSelect.addEventListener('change', populateUnitDropdowns);
        inputValue.addEventListener('input', convertUnits); // Convert on input change
        inputUnitSelect.addEventListener('change', convertUnits); // Convert on unit change
        outputUnitSelect.addEventListener('change', convertUnits); // Convert on unit change
        convertBtn.addEventListener('click', convertUnits); // Convert on button click

        // Initial population and conversion on page load
        window.onload = function() {
            populateUnitDropdowns();
        };
    </script>
</body>
</html>
